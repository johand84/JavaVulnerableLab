<%@page import="java.sql.ResultSet"%>
<%@page import="java.sql.PreparedStatement"%>
<%@page import="java.sql.Connection"%>
<%@include file="/header.jsp"%>
<%@page import="org.cysecurity.cspf.jvl.model.DBConnect"%>
<%@page import="org.cysecurity.cspf.jvl.model.Database"%>
<%
	Connection con=new DBConnect().connect(
		getServletContext().getRealPath("/WEB-INF/config.properties")
	);
	try {
		ResultSet rs = new Database(con).selectPost(
			Integer.parseInt(request.getParameter("postid"))
		);
		if(rs != null && rs.next())
		{
			String user = rs.getString("user");
			out.print("<b style='font-size:22px'>Title:"+rs.getString("title")+"</b>");
			out.print("<br/>-	Posted By " + (user != null ? user : "anonymous"));
			out.print("<br/><br/>Content:<br/>"+rs.getString("content"));
		}
	}
	catch (NumberFormatException ex)
	{
		out.print("ID Parameter is missing or not an integer");
	}
	out.print("<br/><br/><a href='forum.jsp'>Return to Forum &gt;&gt;</a>");
%>

<%@ include file="/footer.jsp" %>
